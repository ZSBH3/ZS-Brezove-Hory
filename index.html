<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>InformaÄnÃ­ tabule â€” ZÅ  BÅ™ezovÃ© Hory</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* ======== ZÃKLADNÃ NASTAVENÃ ======== */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body {
      height: 100%;
      width: 100%;
      overflow: hidden;
      font-family: "Poppins", "Segoe UI", Roboto, sans-serif;
      color: #eaf0f8;
      background: radial-gradient(circle at 30% 20%, #0d1835, #081226, #030a15);
      background-size: 400% 400%;
      animation: gradientMove 25s ease infinite;
    }

    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* ======== HLAVNÃ OBSAH ======== */
    .board {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      width: 100%;
      height: 100%;
      padding: 2rem;
      gap: 1.5rem;
    }

    h1 {
      font-size: 3rem;
      color: #ffd94e;
      text-shadow: 0 0 20px rgba(255,217,78,0.3);
      font-weight: 700;
      letter-spacing: 1px;
    }

    .subtitle {
      font-family: "Roboto Condensed";
      color: #a9b5c9;
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    /* ======== MÅ˜ÃÅ½KA ======== */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
      gap: 30px;
      width: 100%;
      max-width: 1700px;
      height: auto;
    }

    /* ======== KARTY ======== */
    .card {
      background: rgba(255,255,255,0.07);
      border-radius: 22px;
      padding: 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      text-align: center;
      box-shadow: 0 10px 25px rgba(0,0,0,0.5);
      backdrop-filter: blur(12px);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 1px solid rgba(255,255,255,0.15);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(255,255,255,0.15);
    }

    /* ======== IKONY ======== */
    .icon {
      font-size: 3rem;
      color: #ffd94e;
      margin-bottom: 10px;
      text-shadow: 0 0 25px rgba(255,217,78,0.5);
    }

    h2 {
      font-size: 1.7rem;
      color: #ffd94e;
      margin-bottom: 10px;
      font-weight: 600;
    }

    /* ======== ÄŒAS A DATUM ======== */
    #cas {
      font-size: 2.8rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    #datum {
      font-size: 1.3rem;
      opacity: 0.8;
      font-family: "Roboto Condensed";
      letter-spacing: 0.5px;
    }

    /* ======== POÄŒASÃ ======== */
    #pocasi {
      font-size: 1.3rem;
      margin-top: 20px;
      line-height: 1.5;
      font-weight: 500;
    }

    /* ======== JÃDELNÃÄŒEK ======== */
    #obed {
      width: 100%;
      max-height: 420px;
      overflow-y: auto;
      text-align: left;
      font-size: 1rem;
      line-height: 1.7;
      padding-right: 10px;
      scrollbar-color: #ffd94e transparent;
    }

    #obed::-webkit-scrollbar {
      width: 8px;
    }
    #obed::-webkit-scrollbar-thumb {
      background-color: #ffd94e;
      border-radius: 10px;
    }

    /* ======== OSTATNÃ ======== */
    p {
      font-size: 1.05rem;
      color: #cfd8e2;
      line-height: 1.6;
    }

    footer {
      font-size: 1rem;
      color: #9ca7b6;
      margin-top: 15px;
      opacity: 0.8;
    }

    @media (max-width: 768px) {
      h1 { font-size: 2rem; }
      #cas { font-size: 2rem; }
      .card { padding: 20px; }
    }

    /* ======== ANIMACE GLYPH ======== */
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .icon {
      animation: pulse 4s ease-in-out infinite;
    }
  </style>
</head>

<body>
  <div class="board">
    <h1><i class="fa-solid fa-school"></i> InformaÄnÃ­ tabule ZÅ  BÅ™ezovÃ© Hory</h1>
    <div class="subtitle">AktuÃ¡lnÃ­ informace â€¢ DneÅ¡nÃ­ obÄ›d â€¢ PoÄasÃ­ â€¢ Akce â€¢ Novinky</div>

    <div class="grid">
      <!-- ÄŒAS A POÄŒASÃ -->
      <div class="card">
        <i class="fa-regular fa-clock icon"></i>
        <div id="cas">--:--:--</div>
        <div id="datum">NaÄÃ­tÃ¡m datum...</div>
        <div id="pocasi">NaÄÃ­tÃ¡m poÄasÃ­...</div>
      </div>

      <!-- JÃDELNÃÄŒEK -->
      <div class="card">
        <i class="fa-solid fa-utensils icon"></i>
        <h2>DneÅ¡nÃ­ obÄ›d</h2>
        <div id="obed">NaÄÃ­tÃ¡m jÃ­delnÃ­Äek ze strÃ¡nky Å¡koly...</div>
      </div>

      <!-- PLÃN AKCÃ -->
      <div class="card">
        <i class="fa-regular fa-calendar-days icon"></i>
        <h2>PlÃ¡n akcÃ­</h2>
        <p>
          <b>24. Å™Ã­jna:</b> Den otevÅ™enÃ½ch dveÅ™Ã­<br>
          <b>30. Å™Ã­jna:</b> Å kolnÃ­ vÃ½let â€“ Praha PlanetÃ¡rium<br>
          <b>6. listopadu:</b> Halloween dÃ­lna<br>
          <b>20. listopadu:</b> TÅ™Ã­dnÃ­ schÅ¯zky<br>
        </p>
      </div>

      <!-- AKTUALITY -->
      <div class="card">
        <i class="fa-solid fa-bullhorn icon"></i>
        <h2>Aktuality ze Å¡koly</h2>
        <p>
          ğŸ“¢ NovÃ© uÄebnÃ­ pomÅ¯cky ve fyzice.<br>
          ğŸ“¢ Od listopadu startuje Å¡kolnÃ­ krouÅ¾ek robotiky.<br>
          ğŸ“¢ PÅ™ipravujeme vÃ¡noÄnÃ­ jarmark.<br>
        </p>
      </div>
    </div>

    <footer>ğŸ”„ StrÃ¡nka se automaticky aktualizuje kaÅ¾dÃ½ch 15 minut â€¢ Â© 2025 ZÅ  BÅ™ezovÃ© Hory</footer>
  </div>

  <script>
    // ğŸ•’ ÄŒas a datum
    function updateTime() {
      const now = new Date();
      const d = now.toLocaleDateString('cs-CZ', { weekday:'long', year:'numeric', month:'long', day:'numeric' });
      const t = now.toLocaleTimeString('cs-CZ');
      document.getElementById('cas').textContent = t;
      document.getElementById('datum').textContent = d.charAt(0).toUpperCase() + d.slice(1);
    }
    setInterval(updateTime, 1000);
    updateTime();

    // ğŸŒ¦ï¸ PoÄasÃ­
    async function loadWeather() {
      try {
        const res = await fetch("https://api.open-meteo.com/v1/forecast?latitude=49.69&longitude=14.01&current_weather=true");
        const data = await res.json();
        const temp = data.current_weather.temperature;
        const wind = data.current_weather.windspeed;
        const code = data.current_weather.weathercode;
        const icons = {
          0: "â˜€ï¸ Jasno", 1: "ğŸŒ¤ï¸ Polojasno", 2: "â›… OblaÄno", 3: "â˜ï¸ ZataÅ¾eno",
          45: "ğŸŒ«ï¸ Mlha", 48: "ğŸŒ«ï¸ MrznoucÃ­ mlha", 51: "ğŸŒ¦ï¸ MrholenÃ­", 61: "ğŸŒ§ï¸ DÃ©Å¡Å¥",
          71: "â„ï¸ SnÃ­h", 95: "â›ˆï¸ BouÅ™ka"
        };
        const condition = icons[code] || "ğŸŒ¡ï¸ NeznÃ¡mÃ© poÄasÃ­";
        document.getElementById("pocasi").innerHTML = `${condition}<br>Teplota: <b>${temp}Â°C</b><br>VÃ­tr: ${wind} km/h`;
      } catch {
        document.getElementById("pocasi").innerText = "Nelze naÄÃ­st poÄasÃ­.";
      }
    }
    loadWeather();

    // ğŸ½ï¸ JÃ­delnÃ­Äek
    async function loadObed() {
      try {
        const proxyUrl = "https://api.allorigins.win/get?url=" + encodeURIComponent("https://zsbrezovehory.cz/jidelni-listek/");
        const res = await fetch(proxyUrl);
        const data = await res.json();
        let obsah = data.contents;
        const match = obsah.match(/<main[\\s\\S]*?<\\/main>/i);
        if (match) obsah = match[0];
        document.getElementById("obed").innerHTML = obsah;
      } catch {
        document.getElementById("obed").innerText = "Nelze naÄÃ­st jÃ­delnÃ­Äek.";
      }
    }
    loadObed();

    // ğŸ” Auto-refresh po 15 minutÃ¡ch
    setTimeout(() => location.reload(), 15 * 60 * 1000);
  </script>
</body>
</html>
